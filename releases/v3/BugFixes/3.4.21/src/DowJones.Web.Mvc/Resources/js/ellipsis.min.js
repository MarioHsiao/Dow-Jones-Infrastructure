/**
* jQuery plugin for text-overflow:ellipsis firefox support
*
* @category   jQuery Plugin
* @author     Ronald Edgecomb II <Ronald.EdgecombII@dowjones.com>
* @author     Philippe Arcand <philippe.arcand@dowjones.com>
* @copyright  2011 Dow Jones & Company Inc.
* @version    SVN: $Id: jquery.ellipsis.js 4029 2012-02-10 21:29:46Z parcand $
*/
(function (a) { a.fn.ellipsis = function (b) { var c = { intervalDelay: 1, beforeEach: function () { }, afterEach: function () { }, beforeAll: function () { }, afterAll: function () { }, onFail: function () { } }; var b = a.extend(c, b), d = this, e = [], f = 0, g = ""; init = function () { b.beforeAll(); if (a.browser.mozilla) { var c = parseFloat(a.browser.version); if (c >= 2 && c < 7) { e = d; f = 0; g = setInterval(convertNext, b.intervalDelay) } else { b.onFail("XML Behavior Used For FF < 4.x and Native Support For FF >= 7.x "); b.afterAll(); return d.each(function () { }) } } else { b.onFail("Native Browser Support"); b.afterAll(); return d.each(function () { }) } }; convertNext = function () { if (f < e.length) { var a = e.eq(f); b.beforeEach(a); firefoxEllipsis(a.get(0)); b.afterEach(a) } else { clearInterval(g); b.afterAll(); return d.each(function () { }) } f++ }; firefoxEllipsis = function (b) { a(b).removeClass("ff-ellipsis").data("calculatedWidth", ""); var c = a(b).clone(); c.css({ width: "auto", maxWidth: "none", overflow: "visible", display: "inline", visibility: "hidden" }); a(b).after(c); var d = c.get(0).offsetWidth; c.remove(); if (d > b.offsetWidth) { a(b).data("calculatedWidth", d); a(b).html(a(b).text().replace(/\s+/g, " ")).addClass("ff-ellipsis") } }; init() } })(jQuery)