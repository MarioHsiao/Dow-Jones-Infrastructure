@using Web.Mvc.Extensions
@using DowJones.Factiva.Currents.Models

@inherits DowJones.Web.Mvc.UI.CompositeComponent<CustomTopicsModel>
@ClientPlugin dj_CustomTopics
@ScriptResource RelativeResourceName=CustomTopics.js

@{ 
    CssClass += " dj_CustomTopics";
}

<div class="module">
    <header>
        <i class="icon-th-large icon-white"></i>
        <span>Custom Topics</span>
    </header>
    <div class="content">
		<div class="row">

            @foreach(var headline in Model.CurrentsHeadlines.Take(3))
			{
				<div class="span4">
                     <div class="module-col-source-logo-wrap">
                            <h3 class="module-col-title module-col-source-logo">
                                <img class="module-col-source-img" 
                                    alt="@headline.Title" title="@headline.Title" src="@headline.Title" 
                                 onerror="if(DJ && DJ.jQuery)DJ.jQuery(this).hide().next().text(this.title);" />
                                <span class="module-col-title-source-icon-text"></span>
                            </h3>
                        </div>
                    <div class="article-group">
                        @Html.DJ().Render(headline.CurrentHeadline)
                    </div>
                 </div>
			}
		</div>
    </div>
</div>